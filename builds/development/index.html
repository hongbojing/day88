<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>day #</title>
    <link rel="stylesheet" href="css/myStyle.css">
    <link rel="stylesheet" href="css/anotherstyle.css">
</head>
<body>
<div id="container">

</div>
<!--  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>-->
<script src="js/lib/underscore.js"></script>
<script src="SampleData.js"></script>
<script>
    function getStudentInfo(elem, indx, list) {
        var container = document.getElementById("container");
        var student = "<p>" + elem.firstname + " " + elem.lastname + ", Grade: " + elem.grade + "</p>";
        container.innerHTML = container.innerHTML + student;
    }
    function listGrades(finalGrades) {
        _.each(finalGrades, function (elem, indx, list) {
            var container = document.getElementById("container");
            container.innerHTML = container.innerHTML + elem;
        });
    }
    function assignGrades(item) {
        var grade = (item.midterm_score + item.final_score) / 2;
        var letterGrade;

        if(grade <= 64)
            letterGrade = "F";
        else if (grade > 64 && grade <= 69)
            letterGrade = "D";
        else if (grade >= 70 && grade <= 79)
            letterGrade = "C";
        else if (grade >=80 && grade <= 89)
            letterGrade = "B";
        else if (grade >= 90)
            letterGrade = "A";

        return "<p>" + item.firstname + " " + item.lastname + ": " + letterGrade + "</p>";
    }
    window.addEventListener("load", function (e) {
//        students = _.shuffle(students);

//        _.each(students, getStudentInfo);
        var finalGrades = _.map(students, assignGrades);
        listGrades(finalGrades);
    });
</script>
</body>
</html>
